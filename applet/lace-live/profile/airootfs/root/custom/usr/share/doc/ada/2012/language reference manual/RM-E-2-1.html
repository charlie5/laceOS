<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Shared Passive Library Units</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-2-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>E.2.1 Shared Passive Library Units</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal">A shared passive library unit is used for managing 
global data shared between active partitions. The restrictions on shared 
passive library units prevent the data or tasks of one active partition 
from being accessible to another active partition through references 
implicit in objects declared in the shared passive library unit.&nbsp;</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2</a></div>
<div class="Indented1" style="margin-bottom: 0.4em"><A NAME="I8122"></A><A NAME="I8123"></A>The 
form of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Shared_Passive is as follows:&nbsp;</div>
<div class="paranum"><a name="p3">3</a></div>
<div class="Indented1">&nbsp;&nbsp;<B>pragma</B> <A NAME="I8124"></A><A NAME="I8125"></A>Shared_Passive[(<I>library_unit_</I><A NAME="I8126"></A><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>)];</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><A NAME="I8127"></A>A 
<SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> Shared_Passive 
is used to specify that a library unit is a <I>shared passive library 
unit</I>, namely that the Shared_Passive aspect<A NAME="I8128"></A><A NAME="I8129"></A> 
of the library unit is True. The following restrictions apply to such 
a library unit:</div>
<div class="paranum"><a name="p5">5</a></div>
<div class="Bulleted">it shall be preelaborable (see <A HREF="RM-10-2-1.html">10.2.1</A>); 
</div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Bulleted">it shall depend semantically only upon declared 
pure or shared passive <SPAN Class="swiss"><A HREF="RM-10-1-1.html#S0248">library_item</A></SPAN>s; 
</div>
<div class="paranum"><a name="p7">7/4</a></div>
<div class="Bulleted">it shall not contain a library-level declaration 
of an access type that designates a class-wide type, nor a type with 
a part that is of a task type or protected type with <SPAN Class="swiss"><A HREF="RM-9-5-2.html#S0218">entry_declaration</A></SPAN>s; 
</div>
<div class="paranum"><a name="p7.1">7.1/4</a></div>
<div class="Bulleted">it shall not contain a library-level declaration 
that contains a name that denotes a type declared within a declared-pure 
package, if that type has a part that is of an access type; for the purposes 
of this rule, the parts considered include those of the full views of 
any private types or private extensions.</div>
<div class="paranum"><a name="p8">8</a></div>
<div class="Normal"><A NAME="I8130"></A><A NAME="I8131"></A>Notwithstanding 
the definition of accessibility given in <A HREF="RM-3-10-2.html">3.10.2</A>, 
the declaration of a library unit P1 is not accessible from within the 
declarative region of a shared passive library unit P2, unless the shared 
passive library unit P2 depends semantically on P1.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p9">9</a></div>
<div class="Normal"><A NAME="I8132"></A>A shared passive library unit 
is preelaborated.</div>

<H4 Class="centered">Post-Compilation Rules</H4>
<div class="paranum"><a name="p10">10</a></div>
<div class="Normal">A shared passive library unit shall be assigned to 
at most one partition within a given program.</div>
<div class="paranum"><a name="p11">11</a></div>
<div class="Normal"><A NAME="I8133"></A><A NAME="I8134"></A><A NAME="I8135"></A>Notwithstanding 
the rule given in <A HREF="RM-10-2.html">10.2</A>, a compilation unit 
in a given partition does not <I>need</I> (in the sense of <A HREF="RM-10-2.html">10.2</A>) 
the shared passive library units on which it depends semantically to 
be included in that same partition; they will typically reside in separate 
passive partitions.</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-2-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
