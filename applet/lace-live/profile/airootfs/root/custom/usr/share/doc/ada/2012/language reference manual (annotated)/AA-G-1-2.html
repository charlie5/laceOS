<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Complex Elementary Functions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.SmallBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 8.7em; margin-right: 2.5em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.SmallBulleted {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 8.7em; margin-right: 2.5em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented2NestedBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented2NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-G-1-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-G-1-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>G.1.2 Complex Elementary Functions</H1>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal" style="margin-bottom: 0.4em">The generic library 
package Numerics.Generic_Complex_Elementary_Functions has the following 
declaration:&nbsp;</div>
<div class="paranum"><a name="p2">2/2</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00434.TXT">AI95-00434-01</A></I>} 
<B>with</B>&nbsp;Ada.Numerics.Generic_Complex_Types;<BR>
<B>generic</B><A NAME="I9051"></A><BR>
&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;<B>package</B>&nbsp;Complex_Types&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>new</B>&nbsp;Ada.Numerics.Generic_Complex_Types&nbsp;(&lt;&gt;);<BR>
&nbsp;&nbsp;&nbsp;<B>use</B>&nbsp;Complex_Types;<BR>
<B>package</B>&nbsp;Ada.Numerics.Generic_Complex_Elementary_Functions&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Pure(Generic_Complex_Elementary_Functions);</div>
<div class="paranum"><a name="p3">3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9052"></A>Sqrt&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9053"></A>Log&nbsp;&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9054"></A>Exp&nbsp;&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9055"></A>Exp&nbsp;&nbsp;(X&nbsp;:&nbsp;Imaginary)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;**&quot;&nbsp;(Left&nbsp;:&nbsp;Complex;&nbsp;&nbsp;&nbsp;Right&nbsp;:&nbsp;Complex)&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;**&quot;&nbsp;(Left&nbsp;:&nbsp;Complex;&nbsp;&nbsp;&nbsp;Right&nbsp;:&nbsp;Real'Base)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;**&quot;&nbsp;(Left&nbsp;:&nbsp;Real'Base;&nbsp;Right&nbsp;:&nbsp;Complex)&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Complex;</div>
<div class="paranum"><a name="p4">4</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9056"></A>Sin&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9057"></A>Cos&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9058"></A>Tan&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9059"></A>Cot&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;</div>
<div class="paranum"><a name="p5">5</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9060"></A>Arcsin&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9061"></A>Arccos&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9062"></A>Arctan&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9063"></A>Arccot&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;</div>
<div class="paranum"><a name="p6">6</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9064"></A>Sinh&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9065"></A>Cosh&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9066"></A>Tanh&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9067"></A>Coth&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;</div>
<div class="paranum"><a name="p7">7</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9068"></A>Arcsinh&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9069"></A>Arccosh&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9070"></A>Arctanh&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I9071"></A>Arccoth&nbsp;(X&nbsp;:&nbsp;Complex)&nbsp;<B>return</B>&nbsp;Complex;</div>
<div class="paranum"><a name="p8">8</a></div>
<div class="Examples"><B>end</B>&nbsp;Ada.Numerics.Generic_Complex_Elementary_Functions;</div>
<div class="paranum"><a name="p9">9/1</a></div>
<div class="Normal">{<I><A HREF="defect1.html#8652/0020">8652/0020</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00126.TXT">AI95-00126-01</A></I>} 
<A NAME="I9072"></A>The library package Numerics.Complex_Elementary_Functions 
is declared pure and defines the same subprograms as Numerics.Generic_Complex_Elementary_Functions, 
except that the predefined type Float is systematically substituted for 
Real'Base, and the Complex and Imaginary types exported by Numerics.Complex_Types 
are systematically substituted for Complex and Imaginary, throughout. 
Nongeneric equivalents of Numerics.Generic_Complex_Elementary_Functions 
corresponding to each of the other predefined floating point types are 
defined similarly, with the names Numerics.Short_Complex_Elementary_Functions, 
Numerics.Long_Complex_Elementary_Functions, etc.&nbsp;</div>
<div class="paranum"><a name="p9.a">9.a</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>The nongeneric equivalents are 
provided to allow the programmer to construct simple mathematical applications 
without being required to understand and use generics.&nbsp;</div>
<div class="paranum"><a name="p10">10</a></div>
<div class="Normal">The overloading of the Exp function for the pure-imaginary 
type is provided to give the user an alternate way to compose a complex 
value from a given modulus and argument. In addition to Compose_From_Polar(Rho, 
Theta) (see <A HREF="AA-G-1-1.html">G.1.1</A>), the programmer may write 
Rho * Exp(i * Theta).</div>
<div class="paranum"><a name="p11">11</a></div>
<div class="Normal">The imaginary (resp., real) component of the parameter 
X of the forward hyperbolic (resp., trigonometric) functions and of the 
Exp function (and the parameter X, itself, in the case of the overloading 
of the Exp function for the pure-imaginary type) represents an angle 
measured in radians, as does the imaginary (resp., real) component of 
the result of the Log and inverse hyperbolic (resp., trigonometric) functions.</div>
<div class="paranum"><a name="p12">12</a></div>
<div class="Normal" style="margin-bottom: 0.4em">The functions have 
their usual mathematical meanings. However, the arbitrariness inherent 
in the placement of branch cuts, across which some of the complex elementary 
functions exhibit discontinuities, is eliminated by the following conventions: 
</div>
<div class="paranum"><a name="p13">13</a></div>
<div class="Bulleted">The imaginary component of the result of the Sqrt 
and Log functions is discontinuous as the parameter X crosses the negative 
real axis.</div>
<div class="paranum"><a name="p14">14</a></div>
<div class="Bulleted">The result of the exponentiation operator when 
the left operand is of complex type is discontinuous as that operand 
crosses the negative real axis.</div>
<div class="paranum"><a name="p15">15/2</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00185.TXT">AI95-00185-01</A></I>} 
The imaginary component of the result of the Arcsin, Arccos, and Arctanh 
functions is discontinuous as the parameter X crosses the real axis to 
the left of &ndash;1.0 or the right of 1.0.</div>
<div class="paranum"><a name="p16">16/2</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00185.TXT">AI95-00185-01</A></I>} 
The real component of the result of the Arctan and Arcsinh functions 
is discontinuous as the parameter X crosses the imaginary axis below 
&ndash;<SPAN Class="roman"><I>i</I></SPAN> or above <SPAN Class="roman"><I>i</I></SPAN>.</div>
<div class="paranum"><a name="p17">17/2</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00185.TXT">AI95-00185-01</A></I>} 
The real component of the result of the Arccot function is discontinuous 
as the parameter X crosses the imaginary axis below &ndash;<SPAN Class="roman"><I>i</I></SPAN> 
or above <SPAN Class="roman"><I>i</I></SPAN>.</div>
<div class="paranum"><a name="p18">18</a></div>
<div class="Bulleted">The imaginary component of the Arccosh function 
is discontinuous as the parameter X crosses the real axis to the left 
of 1.0.</div>
<div class="paranum"><a name="p19">19</a></div>
<div class="Bulleted">The imaginary component of the result of the Arccoth 
function is discontinuous as the parameter X crosses the real axis between 
&ndash;1.0 and 1.0.&nbsp;</div>
<div class="paranum"><a name="p19.a">19.a/2</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Discussion: 
</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00185.TXT">AI95-00185-01</A></I>} 
The branch cuts come from the fact that the functions in question are 
really multi-valued in the complex domain, and that we have to pick one 
<I>principal value</I> to be the result of the function. Evidently we 
have much freedom in choosing where the branch cuts lie. However, we 
are adhering to the following principles which seem to lead to the more 
<I>natural</I> definitions:&nbsp;</div>
<div class="paranum"><a name="p19.b">19.b/2</a></div>
<div class="SmallBulleted">A branch cut should not intersect the real 
axis at a place where the corresponding real function is well-defined 
(in other words, the complex function should be an extension of the corresponding 
real function).</div>
<div class="paranum"><a name="p19.c">19.c/2</a></div>
<div class="SmallBulleted">Because all the functions in question are 
analytic, to ensure power series validity for the principal value, the 
branch cuts should be invariant by complex conjugation.</div>
<div class="paranum"><a name="p19.d">19.d/2</a></div>
<div class="SmallBulleted">For odd functions, to ensure that the principal 
value remains an odd function, the branch cuts should be invariant by 
reflection in the origin.&nbsp;</div>
<div class="paranum"><a name="p20">20/2</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00185.TXT">AI95-00185-01</A></I>} 
The computed results of the mathematically multivalued functions are 
rendered single-valued by the following conventions, which are meant 
to imply that the principal branch is an analytic continuation of the 
corresponding real-valued function in Numerics.Generic_Elementary_Functions. 
(For Arctan and Arccot, the single-argument function in question is that 
obtained from the two-argument version by fixing the second argument 
to be its default value.)&nbsp;</div>
<div class="paranum"><a name="p21">21</a></div>
<div class="Bulleted">The real component of the result of the Sqrt and 
Arccosh functions is nonnegative.</div>
<div class="paranum"><a name="p22">22</a></div>
<div class="Bulleted">The same convention applies to the imaginary component 
of the result of the Log function as applies to the result of the natural-cycle 
version of the Argument function of Numerics.Generic_Complex_Types (see 
<A HREF="AA-G-1-1.html">G.1.1</A>).</div>
<div class="paranum"><a name="p23">23</a></div>
<div class="Bulleted">The range of the real (resp., imaginary) component 
of the result of the Arcsin and Arctan (resp., Arcsinh and Arctanh) functions 
is approximately &ndash;&pi;/2.0 to &pi;/2.0.</div>
<div class="paranum"><a name="p24">24</a></div>
<div class="Bulleted">The real (resp., imaginary) component of the result 
of the Arccos and Arccot (resp., Arccoth) functions ranges from 0.0 to 
approximately &pi;.</div>
<div class="paranum"><a name="p25">25</a></div>
<div class="Bulleted">The range of the imaginary component of the result 
of the Arccosh function is approximately &ndash;&pi; to &pi;.&nbsp;</div>
<div class="paranum"><a name="p26">26</a></div>
<div class="Normal">In addition, the exponentiation operator inherits 
the single-valuedness of the Log function.&nbsp;</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p27">27</a></div>
<div class="Normal">The exception Numerics.Argument_Error is raised by 
the exponentiation operator, signaling a parameter value outside the 
domain of the corresponding mathematical function, when the value of 
the left operand is zero and the real component of the exponent (or the 
exponent itself, when it is of real type) is zero.</div>
<div class="paranum"><a name="p28">28</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><A NAME="I9073"></A><A NAME="I9074"></A><A NAME="I9075"></A>The 
exception Constraint_Error is raised, signaling a pole of the mathematical 
function (analogous to dividing by zero), in the following cases, provided 
that Complex_Types.Real'Machine_Overflows is True:&nbsp;</div>
<div class="paranum"><a name="p29">29</a></div>
<div class="Bulleted">by the Log, Cot, and Coth functions, when the value 
of the parameter X is zero;</div>
<div class="paranum"><a name="p30">30</a></div>
<div class="Bulleted">by the exponentiation operator, when the value 
of the left operand is zero and the real component of the exponent (or 
the exponent itself, when it is of real type) is negative;</div>
<div class="paranum"><a name="p31">31</a></div>
<div class="Bulleted">by the Arctan and Arccot functions, when the value 
of the parameter X is &plusmn; <SPAN Class="roman"><I>i</I></SPAN>;</div>
<div class="paranum"><a name="p32">32</a></div>
<div class="Bulleted">by the Arctanh and Arccoth functions, when the 
value of the parameter X is &plusmn; 1.0.&nbsp;</div>
<div class="paranum"><a name="p33">33</a></div>
<div class="Normal">[Constraint_Error can also be raised when a finite 
result overflows (see <A HREF="AA-G-2-6.html">G.2.6</A>); this may occur 
for parameter values sufficiently <I>near</I> poles, and, in the case 
of some of the functions, for parameter values having components of sufficiently 
large magnitude.] <A NAME="I9076"></A>When Complex_Types.Real'Machine_Overflows 
is False, the result at poles is unspecified.&nbsp;</div>
<div class="paranum"><a name="p33.a">33.a</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>The purpose of raising Constraint_Error 
(rather than Numerics.Argument_Error) at the poles of a function, when 
Float_Type'Machine_Overflows is True, is to provide continuous behavior 
as the actual parameters of the function approach the pole and finally 
reach it.&nbsp;</div>
<div class="paranum"><a name="p33.b">33.b</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>It is anticipated that an 
Ada binding to IEC 559:1989 will be developed in the future. As part 
of such a binding, the Machine_Overflows attribute of a conformant floating 
point type will be specified to yield False, which will permit implementations 
of the complex elementary functions to deliver results with an infinite 
component (and set the overflow flag defined by the binding) instead 
of raising Constraint_Error in overflow situations, when traps are disabled. 
Similarly, it is appropriate for the complex elementary functions to 
deliver results with an infinite component (and set the zero-divide flag 
defined by the binding) instead of raising Constraint_Error at poles, 
when traps are disabled. Finally, such a binding should also specify 
the behavior of the complex elementary functions, when sensible, given 
parameters with infinite components.&nbsp;</div>

<H4 Class="centered">Implementation Requirements</H4>
<div class="paranum"><a name="p34">34</a></div>
<div class="Normal">In the implementation of Numerics.Generic_Complex_Elementary_Functions, 
the range of intermediate values allowed during the calculation of a 
final result shall not be affected by any range constraint of the subtype 
Complex_Types.Real.&nbsp;</div>
<div class="paranum"><a name="p34.a">34.a</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>Implementations 
of Numerics.Generic_Complex_Elementary_Functions written in Ada should 
therefore avoid declaring local variables of subtype Complex_Types.Real; 
the subtype Complex_Types.Real'Base should be used instead.&nbsp;</div>
<div class="paranum"><a name="p35">35</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><A NAME="I9077"></A>In 
the following cases, evaluation of a complex elementary function shall 
yield the <I>prescribed result</I> (or a result having the prescribed 
component), provided that the preceding rules do not call for an exception 
to be raised:&nbsp;</div>
<div class="paranum"><a name="p36">36</a></div>
<div class="Bulleted">When the parameter X has the value zero, the Sqrt, 
Sin, Arcsin, Tan, Arctan, Sinh, Arcsinh, Tanh, and Arctanh functions 
yield a result of zero; the Exp, Cos, and Cosh functions yield a result 
of one; the Arccos and Arccot functions yield a real result; and the 
Arccoth function yields an imaginary result.</div>
<div class="paranum"><a name="p37">37</a></div>
<div class="Bulleted">When the parameter X has the value one, the Sqrt 
function yields a result of one; the Log, Arccos, and Arccosh functions 
yield a result of zero; and the Arcsin function yields a real result.</div>
<div class="paranum"><a name="p38">38</a></div>
<div class="Bulleted">When the parameter X has the value &ndash;1.0, 
the Sqrt function yields the result&nbsp;</div>
<div class="paranum"><a name="p39">39</a></div>
<div class="Indented2NestedBulleted"><SPAN Class="roman"><I>i</I></SPAN> 
(resp., &ndash;<SPAN Class="roman"><I>i</I></SPAN>), when the sign of 
the imaginary component of X is positive (resp., negative), if Complex_Types.Real'Signed_Zeros 
is True;</div>
<div class="paranum"><a name="p40">40</a></div>
<div class="Indented2NestedBulleted"><SPAN Class="roman"><I>i</I></SPAN>, 
if Complex_Types.Real'Signed_Zeros is False;&nbsp;</div>
<div class="paranum"><a name="p41">41/2</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00434.TXT">AI95-00434-01</A></I>} 
When the parameter X has the value &ndash;1.0, the Log function yields 
an imaginary result; and the Arcsin and Arccos functions yield a real 
result.</div>
<div class="paranum"><a name="p42">42</a></div>
<div class="Bulleted">When the parameter X has the value &plusmn; <SPAN Class="roman"><I>i</I></SPAN>, 
the Log function yields an imaginary result.</div>
<div class="paranum"><a name="p43">43</a></div>
<div class="Bulleted">Exponentiation by a zero exponent yields the value 
one. Exponentiation by a unit exponent yields the value of the left operand 
(as a complex value). Exponentiation of the value one yields the value 
one. Exponentiation of the value zero yields the value zero.&nbsp;</div>
<div class="paranum"><a name="p43.a">43.a</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>It is possible to give many 
other prescribed results restricting the result to the real or imaginary 
axis when the parameter X is appropriately restricted to easily testable 
portions of the domain. We follow the proposed ISO/IEC standard for Generic_Complex_Elementary_Functions 
(for Ada 83), CD 13813, in not doing so, however.&nbsp;</div>
<div class="paranum"><a name="p44">44</a></div>
<div class="Normal">Other accuracy requirements for the complex elementary 
functions, which apply only in the strict mode, are given in <A HREF="AA-G-2-6.html">G.2.6</A>.</div>
<div class="paranum"><a name="p45">45</a></div>
<div class="Normal">The sign of a zero result or zero result component 
yielded by a complex elementary function is implementation defined when 
Complex_Types.Real'Signed_Zeros is True.&nbsp;</div>
<div class="paranum"><a name="p45.a">45.a</a></div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The sign of a 
zero result (or a component thereof) from any operator or function in 
Numerics.Generic_Complex_Elementary_Functions, when Complex_Types.Real'Signed_Zeros 
is True.</div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum"><a name="p46">46</a></div>
<div class="Normal">The nongeneric equivalent packages may, but need 
not, be actual instantiations of the generic package with the appropriate 
predefined nongeneric equivalent of Numerics.Generic_Complex_Types; if 
they are, then the latter shall have been obtained by actual instantiation 
of Numerics.Generic_Complex_Types.</div>
<div class="paranum"><a name="p47">47</a></div>
<div class="Normal">The exponentiation operator may be implemented in 
terms of the Exp and Log functions. Because this implementation yields 
poor accuracy in some parts of the domain, no accuracy requirement is 
imposed on complex exponentiation.</div>
<div class="paranum"><a name="p48">48</a></div>
<div class="Normal"><A NAME="I9078"></A>The implementation of the Exp 
function of a complex parameter X is allowed to raise the exception Constraint_Error, 
signaling overflow, when the real component of X exceeds an unspecified 
threshold that is approximately log(<SPAN Class="roman">Complex_Types.Real'Safe_Last</SPAN>). 
This permission recognizes the impracticality of avoiding overflow in 
the marginal case that the exponential of the real component of X exceeds 
the safe range of Complex_Types.Real but both components of the final 
result do not. Similarly, the Sin and Cos (resp., Sinh and Cosh) functions 
are allowed to raise the exception Constraint_Error, signaling overflow, 
when the absolute value of the imaginary (resp., real) component of the 
parameter X exceeds an unspecified threshold that is approximately log(<SPAN Class="roman">Complex_Types.Real'Safe_Last</SPAN>) 
+ log(2.0). <A NAME="I9079"></A>This permission recognizes the impracticality 
of avoiding overflow in the marginal case that the hyperbolic sine or 
cosine of the imaginary (resp., real) component of X exceeds the safe 
range of Complex_Types.Real but both components of the final result do 
not.&nbsp;</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p49">49</a></div>
<div class="Normal">Implementations in which Complex_Types.Real'Signed_Zeros 
is True should attempt to provide a rational treatment of the signs of 
zero results and result components. For example, many of the complex 
elementary functions have components that are odd functions of one of 
the parameter components; in these cases, the result component should 
have the sign of the parameter component at the origin. Other complex 
elementary functions have zero components whose sign is opposite that 
of a parameter component at the origin, or is always positive or always 
negative.&nbsp;</div>
<div class="paranum"><a name="p49.a.1">49.a.1/3</a></div>
<div class="Annotations"><B>Implementation Advice:&nbsp;</B>If Complex_Types.Real'Signed_Zeros 
is True for Numerics.Generic_Complex_Elementary_Functions, a rational 
treatment of the signs of zero results and result components should be 
provided.</div>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<div class="paranum"><a name="p49.a">49.a</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">The semantics 
of Numerics.Generic_Complex_Elementary_Functions differs from Generic_Complex_Elementary_Functions 
as defined in ISO/IEC CD 13814 (for Ada 83) in the following ways:&nbsp;</div>
<div class="paranum"><a name="p49.b">49.b</a></div>
<div class="SmallBulleted">The generic package is a child unit of the 
package defining the Argument_Error exception.</div>
<div class="paranum"><a name="p49.c">49.c</a></div>
<div class="SmallBulleted">The proposed Generic_Complex_Elementary_Functions 
standard (for Ada 83) specified names for the nongeneric equivalents, 
if provided. Here, those nongeneric equivalents are required.</div>
<div class="paranum"><a name="p49.d">49.d</a></div>
<div class="SmallBulleted">The generic package imports an instance of 
Numerics.Generic_Complex_Types rather than a long list of individual 
types and operations exported by such an instance.</div>
<div class="paranum"><a name="p49.e">49.e</a></div>
<div class="SmallBulleted">The dependence of the imaginary component 
of the Sqrt and Log functions on the sign of a zero parameter component 
is tied to the value of Complex_Types.Real'Signed_Zeros.</div>
<div class="paranum"><a name="p49.f">49.f</a></div>
<div class="SmallBulleted">Conformance to accuracy requirements is conditional. 
</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum"><a name="p49.g">49.g/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0020">8652/0020</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00126.TXT">AI95-00126-01</A></I>} 
<B>Corrigendum:</B> Explicitly stated that the nongeneric equivalents 
of Generic_Complex_Elementary_Functions are pure.</div>
<div class="paranum"><a name="p49.h">49.h/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00185.TXT">AI95-00185-01</A></I>} 
Corrected various inconsistencies in the definition of the branch cuts. 
</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-G-1-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-G-1-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
