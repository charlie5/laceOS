<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Raise Statements and Raise Expressions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert4 {text-decoration: underline; color: rgb(153,0,0) }
    SPAN.delete4 {text-decoration: line-through; color: rgb(153,0,0) }
    SPAN.insert5 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete5 {text-decoration: line-through; color: rgb(0,102,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.8em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.8em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 4.3em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.8em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left:  10.2em; margin-bottom: 0.6em}
    DIV.Indented2Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented2Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.8em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,51,153)"><B>Annotated</B></SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)"><B>&nbsp;Ada Reference Manual</B> (Ada 202x Draft 33)</SPAN> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>11.3 <span class="insert4">Raise Statements and Raise Expressions</span><span class="delete4">Raise Statements</span></H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal">[A <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
raises an exception.]&nbsp;</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2/2</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00361.TXT">AI95-00361-01</A></I>} 
<SPAN Class="swiss">raise_statement</SPAN><A NAME="I5632"></A><A NAME="S0308"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><B>raise</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<B>raise</B>&nbsp;<I>exception_</I><A NAME="I5633"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>&nbsp;[<B>with</B>&nbsp;<I>string_</I><A NAME="I5634"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>];</div>
<div class="paranum"><a name="p2.1">2.1/4</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0022-1.TXT">AI12-0022-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A></I>} 
<SPAN Class="swiss"></SPAN><span class="insert4"><SPAN Class="swiss">raise_expression</SPAN></span><SPAN Class="swiss"></SPAN><A NAME="I5635"></A><A NAME="S0309"></A><span class="insert4"><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN></span><span class="insert4"><B>raise</B>&nbsp;<I>exception_</I><A NAME="I5636"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>&nbsp;[<B>with</B>&nbsp;<I>string_</I><A NAME="I5637"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0138">simple_expression</A></SPAN>]</span></div>
<div class="paranum"><a name="p2.2">2.2/4</a></div>
<div class="Indented1" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A></I>} 
<span class="insert4">If a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
appears within the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
of one of the following contexts, the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
shall appear within a pair of parentheses within the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>:</span> 
</div>
<div class="paranum"><a name="p2.3">2.3/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN>;</span></div>
<div class="paranum"><a name="p2.4">2.4/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-3-5-4.html#S0043">modular_type_definition</A></SPAN>;</span></div>
<div class="paranum"><a name="p2.5">2.5/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0045">floating_point_definition</A></SPAN>;</span></div>
<div class="paranum"><a name="p2.6">2.6/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0048">ordinary_fixed_point_definition</A></SPAN>;</span></div>
<div class="paranum"><a name="p2.7">2.7/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0049">decimal_fixed_point_definition</A></SPAN>;</span></div>
<div class="paranum"><a name="p2.8">2.8/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>;</span></div>
<div class="paranum"><a name="p2.9">2.9/4</a></div>
<div class="Indented2Bulleted"><span class="insert4"><SPAN Class="swiss"><A HREF="AA-4-3-2.html#S0112">ancestor_part</A></SPAN>.</span> 
</div>
<div class="paranum"><a name="p2.a.1">2.a.1/4</a></div>
<div class="Annotations"><span class="insert4"><B>Reason:&nbsp;</B>Unlike 
conditional expressions, this doesn't say &quot;immediately surrounded&quot;; 
the only requirement is that it is somehow within a pair of parentheses 
that is part of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>. 
We need this restriction in order that <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN>s 
cannot be syntactically confused with immediately following constructs 
(such as <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0346">aspect_specification</A></SPAN>s).</span> 
</div>
<div class="paranum"><a name="p2.a.2">2.a.2/4</a></div>
<div class="Annotations"><span class="insert4"><B>Discussion:&nbsp;</B>We 
only need to require that a right parenthesis appear somewhere between 
the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
and the surrounding context; that's all we need to specify in order to 
eliminate the ambiguities. Moreover, we don't care at all where the left 
parenthesis is (so long as it is legal, of course).</span></div>
<div class="paranum"><a name="p2.a.3">2.a.3/4</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert4">For 
instance, the following is illegal by this rule:</span>&nbsp;</div>
<div class="paranum"><a name="p2.a.4">2.a.4/4</a></div>
<div class="SmallExamples"><span class="insert4">Obj&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;Func_Call&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;TBD_Error&nbsp;<B>with</B>&nbsp;Atomic;</span></div>
<div class="paranum"><a name="p2.a.5">2.a.5/4</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert4">as 
the &quot;<B>with</B> Atomic&quot; could be part of the <B>raise_expression</B> 
or part of the object declaration. Both of the following are legal:</span> 
</div>
<div class="paranum"><a name="p2.a.6">2.a.6/4</a></div>
<div class="SmallExamples"><span class="insert4">Obj&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;Func_Call&nbsp;<B>or&nbsp;else</B>&nbsp;(<B>raise</B>&nbsp;TBD_Error)&nbsp;<B>with</B>&nbsp;Atomic;<BR>
Obj&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;(Func_Call&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;TBD_Error)&nbsp;<B>with</B>&nbsp;Atomic;</span></div>
<div class="paranum"><a name="p2.a.7">2.a.7/4</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert4">and 
if the <B>with</B> belongs to the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN>, 
then both of the following are legal:</span>&nbsp;</div>
<div class="paranum"><a name="p2.a.8">2.a.8/4</a></div>
<div class="SmallExamples"><span class="insert4">Obj&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;Func_Call&nbsp;<B>or&nbsp;else</B>&nbsp;(<B>raise</B>&nbsp;TBD_Error&nbsp;<B>with</B>&nbsp;Atomic);<BR>
Obj&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;(Func_Call&nbsp;<B>or&nbsp;else&nbsp;raise</B>&nbsp;TBD_Error&nbsp;<B>with</B>&nbsp;Atomic);</span></div>
<div class="paranum"><a name="p2.a.9">2.a.9/4</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert4">This 
rule only requires parentheses for <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN>s 
that are part of the &quot;top-level&quot; of an <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
in one of the named contexts; the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
is either the entire <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>, 
or part of a chain of logical operations. In practice, the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
will almost always be last in interesting top-level <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>s; 
anything that follows it could never be executed, so that should be rare. 
Other contexts such as conditional expressions, qualified expressions, 
aggregates, and even function calls, provide the needed parentheses. 
All of the following are legal, no additional parens are needed:</span> 
</div>
<div class="paranum"><a name="p2.a.10">2.a.10/4</a></div>
<div class="SmallExamples"><span class="insert4">Pre&nbsp;:&nbsp;Boolean&nbsp;&nbsp;:=&nbsp;(<B>if&nbsp;not</B>&nbsp;Is_Valid(Param)&nbsp;<B>then&nbsp;raise</B>&nbsp;Not_Valid_Error);<BR>
A&nbsp;:&nbsp;A_Tagged&nbsp;&nbsp;&nbsp;:=&nbsp;(Some_Tagged'(<B>raise</B>&nbsp;TBD_Error)&nbsp;<B>with</B>&nbsp;Comp&nbsp;=&gt;&nbsp;'A');<BR>
B&nbsp;:&nbsp;Some_Array&nbsp;:=&nbsp;(1,&nbsp;2,&nbsp;3,&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;<B>raise</B>&nbsp;Not_Valid_Error);<BR>
C&nbsp;:&nbsp;Natural&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;Func&nbsp;(Val&nbsp;=&gt;&nbsp;<B>raise</B>&nbsp;TBD_Error);</span></div>
<div class="paranum"><a name="p2.a.11">2.a.11/4</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert4">Parentheses 
that are part of the context of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
don't count. For instance, the parentheses around the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
are required in the following:</span>&nbsp;</div>
<div class="paranum"><a name="p2.a.12">2.a.12/4</a></div>
<div class="SmallExamples"><span class="insert4">D&nbsp;:&nbsp;A_Tagged&nbsp;&nbsp;&nbsp;:=&nbsp;((<B>raise</B>&nbsp;TBD_Error)&nbsp;<B>with</B>&nbsp;Comp&nbsp;=&gt;&nbsp;'A');</span></div>
<div class="paranum"><a name="p2.a.13">2.a.13/4</a></div>
<div class="Annotations"><span class="insert4">as <SPAN Class="swiss"><A HREF="AA-4-3-2.html#S0112">ancestor_part</A></SPAN> 
is one of the contexts that triggers the rule.</span></div>
<div class="paranum"><a name="p2.a.14">2.a.14/4</a></div>
<div class="Annotations"><span class="insert4">This English-language 
rule could have been implemented instead by adding nonterminals <SPAN Class="swiss">initial_expression</SPAN> 
and <SPAN Class="swiss">initial_relation</SPAN>, which are the same as 
<SPAN Class="swiss"><A HREF="AA-4-4.html#S0133">choice_expression</A></SPAN> 
and <SPAN Class="swiss"><A HREF="AA-4-4.html#S0134">choice_relation</A></SPAN> 
except for the inclusion of membership in <SPAN Class="swiss">initial_relation</SPAN>. 
Then, <SPAN Class="swiss">initial_expresion</SPAN> could be used in place 
of <SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
in all of the contexts noted. We did not do that because of the large 
amount of change required, both to the grammar and to language rules 
that refer to the grammar. A complete grammar is given in <A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A>.</span></div>
<div class="paranum"><a name="p2.a.15">2.a.15/4</a></div>
<div class="Annotations"><span class="insert4">The use of a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
is illegal in each of <SPAN Class="swiss"><A HREF="AA-3-5-4.html#S0043">modular_type_definition</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0045">floating_point_definition</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0048">ordinary_fixed_point_definition</A></SPAN>, 
and <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0049">decimal_fixed_point_definition</A></SPAN> 
as these uses are required to be static and a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
is never static. We include these in this rule so that Ada text has an 
unambiguous syntax in these cases.</span>&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p3">3/4</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0022-1.TXT">AI12-0022-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0159-1.TXT">AI12-0159-1</A></I>} 
The <span class="insert4"><I>exception_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN></span><span class="delete4"><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">&nbsp;name</A></SPAN></span>, 
if any, <span class="insert4">of</span><span class="delete4">&nbsp;in</span> 
a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
<span class="insert4">or <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
</span>shall denote an exception. <A NAME="I5638"></A>A <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
with no <I>exception_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
(that is, a <I>re-raise statement</I>) shall be within a handler, but 
not within a body enclosed by that handler.&nbsp;</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p3.1">3.1/4</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00361.TXT">AI95-00361-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0022-1.TXT">AI12-0022-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A></I>} 
The <span class="insert4"><I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
or <I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0138">simple_expression</A></SPAN></span><span class="delete4"><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">&nbsp;expression</A></SPAN></span>, 
if any, <span class="insert4">of</span><span class="delete4">&nbsp;in</span> 
a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN><span class="insert4">&nbsp;or <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN></span><span class="delete4">,</span> 
is expected to be of type String.</div>
<div class="paranum"><a name="p3.2">3.2/4</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0022-1.TXT">AI12-0022-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0159-1.TXT">AI12-0159-1</A></I>} 
<span class="insert4">The expected type for a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
shall be any single type.</span>&nbsp;</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p4">4/4</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00361.TXT">AI95-00361-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0022-1.TXT">AI12-0022-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A></I>} 
<A NAME="I5639"></A>To <I>raise an exception</I> is to raise a new occurrence 
of that exception[, as explained in <A HREF="AA-11-4.html">11.4</A>]. 
<A NAME="I5640"></A>For the execution of a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
with an <I>exception_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>, 
the named exception is raised.<span class="insert4">&nbsp;Similarly, for the 
evaluation of a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN>, 
the named exception is raised.</span> [<span class="insert4">In both 
of these cases, if</span><span class="delete4">&nbsp;If</span> a <I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
<span class="insert4">or <I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0138">simple_expression</A></SPAN> 
</span>is present, the <span class="insert4">expression</span><span class="delete4"><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">&nbsp;expression</A></SPAN></span> 
is evaluated and its value is associated with the exception occurrence.] 
<A NAME="I5641"></A>For the execution of a re-raise statement, the exception 
occurrence that caused transfer of control to the innermost enclosing 
handler is raised [again].&nbsp;</div>
<div class="paranum"><a name="p4.a.1">4.a.1/2</a></div>
<div class="Annotations"><B>Proof:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00361.TXT">AI95-00361-01</A></I>} 
The definition of Exceptions.Exception_Message includes a statement that 
the string is returned (see <A HREF="AA-11-4-1.html">11.4.1</A>). We 
describe the use of the string here so that we don't have an unexplained 
parameter in this subclause.&nbsp;</div>
<div class="paranum"><a name="p4.a">4.a</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>For a re-raise statement, 
the implementation does not create a new Exception_Occurrence, but instead 
propagates the same Exception_Occurrence value. This allows the original 
cause of the exception to be determined.&nbsp;</div>
<div class="paranum"><a name="p4.b">4.b/5</a></div>
<div class="Annotations"><span class="insert5"><B>Term entry:&nbsp;</B><B>raise 
an exception</B> &mdash; to abandon normal program execution so as to 
draw attention to the fact that the corresponding situation has arisen</span></div>
<div class="paranum"><a name="p4.1">4.1/4</a></div>
<div class="Notes">NOTE&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0062-1.TXT">AI12-0062-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0159-1.TXT">AI12-0159-1</A></I>} 
<span class="insert4">If the evaluation of a <I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN> 
or <I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0138">simple_expression</A></SPAN> 
raises an exception, that exception is propagated instead of the one 
denoted by the <I>exception_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN>.</span> 
</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p5">5</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Examples of raise 
statements:</I>&nbsp;</div>
<div class="paranum"><a name="p6">6/2</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<B>raise</B>&nbsp;Ada.IO_Exceptions.Name_Error;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-A-13.html">A.13</A></I></SPAN><BR>
<B>raise</B>&nbsp;Queue_Error&nbsp;<B>with</B>&nbsp;&quot;Buffer&nbsp;Full&quot;;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-9-11.html">9.11</A></I></SPAN></div>
<div class="paranum"><a name="p7">7</a></div>
<div class="Examples"><B>raise</B>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;re-raise&nbsp;the&nbsp;current&nbsp;exception</I></SPAN></div>
<div class="paranum"><a name="p8">8/5</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0312-1.TXT">AI12-0312-1</A></I>} 
<span class="insert5">--<SPAN Class="roman"><I>&nbsp;For&nbsp;an&nbsp;example&nbsp;of&nbsp;a&nbsp;raise&nbsp;expression,&nbsp;see&nbsp;the&nbsp;Streams&nbsp;Subsystem&nbsp;definitions&nbsp;in&nbsp;<A HREF="AA-13-13-1.html">13.13.1</A>.</I></SPAN></span></div>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<div class="paranum"><a name="p8.a">8.a</a></div>
<div class="Annotations">The fact that the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
has to denote an exception is not clear from RM83. Clearly that was the 
intent, since the italicized part of the syntax rules so indicate, but 
there was no explicit rule. RM83-1.5(11) doesn't seem to give the italicized 
parts of the syntax any force.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 95</H4>
<div class="paranum"><a name="p8.b">8.b/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00361.TXT">AI95-00361-01</A></I>} 
<A NAME="I5642"></A>The syntax of a <SPAN Class="swiss"><A HREF="AA-11-3.html#S0308">raise_statement</A></SPAN> 
is extended to include a string message. This is more convenient than 
calling Exceptions.Exception_Message (<I>exception_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>'Identity, 
<I>string_</I><SPAN Class="swiss"><A HREF="AA-4-4.html#S0132">expression</A></SPAN>), 
and should encourage the use of message strings when raising exceptions. 
</div>

<H4 Class="centered">Extensions to Ada 2012</H4>
<div class="paranum"><a name="p8.c">8.c/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0022-1.TXT">AI12-0022-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0152-1.TXT">AI12-0152-1</A></I>} 
<span class="insert4"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0159-1.TXT">AI12-0159-1</A></I>} 
<span class="insert4"><A NAME="I5643"></A><B>Corrigendum:</B> The <SPAN Class="swiss"><A HREF="AA-11-3.html#S0309">raise_expression</A></SPAN> 
is new. This construct is necessary to allow conversion of existing specifications 
to use preconditions and predicates without changing the exceptions raised. 
It is considered important enough to be added to Ada 2012 rather than 
waiting for Ada 2022.</span>&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
